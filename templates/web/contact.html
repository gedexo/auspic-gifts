{% extends 'web/base.html' %} 
{% load static %} 
{% block title %}Contact{% endblock %} 
{% load i18n %}


{% block css %}
<style>
/* Local skeleton styles for contact page */
.skeleton-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    z-index: 9999;
    overflow-y: auto;
    transition: opacity 0.3s ease-out;
    display: flex;
    align-items: flex-start;
    padding-top: 40px;
}
.skeleton-container.hidden { opacity: 0; pointer-events: none; }
.skeleton { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; border-radius: 4px; }
@keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

/* small helpers used by skeleton markup */
.skeleton-contact-breadcrumb { height: 40px; margin-bottom: 30px; width: 100%; }
.skeleton-contact-form { height: 500px; border-radius: 16px; margin-bottom: 30px; padding: 24px; }
.skeleton-contact-info { height: 300px; border-radius: 16px; margin-bottom: 20px; padding: 24px; }
.skeleton-contact-button { height: 60px; flex: 1; border-radius: 8px; }
.skeleton-form-row { display:flex; gap:16px; margin-bottom:20px; }
.skeleton-form-input { height:50px; flex:1; border-radius:8px; }
.skeleton-form-textarea { height:120px; border-radius:8px; margin-bottom:20px; }
.skeleton-section-title { height:28px; width:40%; margin-bottom:20px; border-radius:6px; }
</style>
{% endblock %}

{% block content %}

<!-- Skeleton loader for contact page -->
<div id="skeletonLoaderContact" class="skeleton-container">
    <div class="container container-lg">
        <div class="skeleton skeleton-contact-breadcrumb"></div>

        <div class="row gy-5">
            <div class="col-lg-8">
                <div class="skeleton skeleton-contact-form">
                    <div class="skeleton skeleton-section-title" style="margin-bottom:30px;"></div>
                    <div class="skeleton-form-row">
                        <div class="skeleton skeleton-form-input"></div>
                        <div class="skeleton skeleton-form-input"></div>
                    </div>
                    <div class="skeleton-form-row">
                        <div class="skeleton skeleton-form-input"></div>
                        <div class="skeleton skeleton-form-input"></div>
                    </div>
                    <div class="skeleton-form-row">
                        <div class="skeleton skeleton-form-input"></div>
                    </div>
                    <div class="skeleton skeleton-form-textarea"></div>
                    <div class="skeleton skeleton-form-button" style="width:120px;"></div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="skeleton skeleton-contact-info">
                    <div class="skeleton skeleton-section-title" style="margin-bottom:40px;"></div>
                    <div style="display:flex; gap:16px; margin-bottom:20px;">
                        <div style="width:40px; height:40px;" class="skeleton"></div>
                        <div style="flex:1; height:20px;" class="skeleton"></div>
                    </div>
                    <div style="display:flex; gap:16px; margin-bottom:20px;">
                        <div style="width:40px; height:40px;" class="skeleton"></div>
                        <div style="flex:1; height:20px;" class="skeleton"></div>
                    </div>
                    <div style="display:flex; gap:16px;">
                        <div style="width:40px; height:40px;" class="skeleton"></div>
                        <div style="flex:1; height:20px;" class="skeleton"></div>
                    </div>
                </div>

                <div style="margin-top:24px; display:flex; gap:16px;">
                    <div class="skeleton skeleton-contact-button"></div>
                    <div class="skeleton skeleton-contact-button"></div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Actual content (initially hidden) -->
<div id="contactPageMain" style="opacity:0; transition: opacity 0.3s ease-in;">
   <!-- ========================= Breadcrumb Start =============================== -->
   <div class="breadcrumb py-26 bg-main-two-50">
    <div class="container container-lg">
        <div class="breadcrumb-wrapper flex-between flex-wrap gap-16">
            <h6 class="mb-0">{% trans "Contact" %}</h6>
            <ul class="flex-align gap-8 flex-wrap">
                <li class="text-sm">
                    <a href="{% url 'web:index' %}" class="text-gray-900 flex-align gap-8 hover-text-main-600">
                        <i class="ph ph-house"></i>
                        {% trans "Home" %}
                    </a>
                </li>
                <li class="flex-align">
                    <i class="ph ph-caret-right"></i>
                </li>
                <li class="text-sm text-main-600"> {% trans "Contact" %} </li>
            </ul>
        </div>
    </div>
   </div>
<!-- ========================= Breadcrumb End =============================== -->

    <!-- ============================ Contact Section Start ================================== -->
<section class="contact py-50">
    <div class="container container-lg">
        <div class="row gy-5">
            <div class="col-lg-8">
                <div class="contact-box border border-gray-100 rounded-16 px-24 py-40">
                  <form action="#" method="POST" class="ajax reload">
                    {% csrf_token %}
                    <h6 class="mb-32">{% trans "Make Custom Request" %}</h6>
                    <div class="row gy-4">
                        <div class="col-sm-6 col-xs-6">
                            <label for="id_first_name" class="flex-align gap-4 text-sm font-heading-two text-gray-900 fw-semibold mb-4">
                                {% trans "First Name" %} <span class="text-danger text-xl line-height-1">*</span>
                            </label>
                            <input type="text" class="common-input px-16" id="id_first_name" name="first_name" placeholder="First name" required>
                        </div>
                        <div class="col-sm-6 col-xs-6">
                            <label for="id_last_name" class="flex-align gap-4 text-sm font-heading-two text-gray-900 fw-semibold mb-4">
                                {% trans "Last Name" %} <span class="text-danger text-xl line-height-1">*</span>
                            </label>
                            <input type="text" class="common-input px-16" id="id_last_name" name="last_name" placeholder="Last name" required>
                        </div>
                        <div class="col-sm-6 col-xs-6">
                            <label for="id_email" class="flex-align gap-4 text-sm font-heading-two text-gray-900 fw-semibold mb-4">
                                {% trans "Email Address" %} <span class="text-danger text-xl line-height-1">*</span>
                            </label>
                            <input type="email" class="common-input px-16" id="id_email" name="email" placeholder="Email address" required>
                        </div>
                        <div class="col-sm-6 col-xs-6">
                            <label for="id_phone" class="flex-align gap-4 text-sm font-heading-two text-gray-900 fw-semibold mb-4">
                                {% trans "Phone Number" %} <span class="text-danger text-xl line-height-1">*</span>
                            </label>
                            <input type="text" class="common-input px-16" id="id_phone" name="phone" placeholder="Phone Number" required>
                        </div>
                        <div class="col-sm-6 col-xs-6">
                            <label for="id_place" class="flex-align gap-4 text-sm font-heading-two text-gray-900 fw-semibold mb-4">
                                {% trans "Place" %} <span class="text-danger text-xl line-height-1">*</span>
                            </label>
                            <input type="text" class="common-input px-16" id="id_place" name="place" placeholder="Place" required>
                        </div>
                        <div class="col-sm-12">
                            <label for="id_message" class="flex-align gap-4 text-sm font-heading-two text-gray-900 fw-semibold mb-4">
                                {% trans "Message" %} <span class="text-danger text-xl line-height-1">*</span>
                            </label>
                            <textarea class="common-input px-16" id="id_message" name="message" placeholder="Type your message" required></textarea>
                        </div>
                        <div class="col-sm-12 mt-32">
                            <button type="submit" class="btn btn-main py-18 px-32 rounded-8">{% trans "Submit" %}</button>
                        </div>
                    </div>
                </form>
                
                </div>
            </div>
            <div class="col-lg-4">
                <div class="contact-box border border-gray-100 rounded-16 px-24 py-40">
                    <h6 class="mb-48">{% trans "Get In Touch" %}</h6>
                    <div class="flex-align gap-16 mb-16">
                        <span class="w-40 h-40 flex-center rounded-circle border border-gray-100 text-main-two-600 text-2xl flex-shrink-0"><i class="ph-fill ph-phone-call"></i></span>
                        <a href="tel:9048990051" class="text-md text-gray-900 hover-text-main-600">9048990051</a>
                    </div>
                    <div class="flex-align gap-16 mb-16">
                        <span class="w-40 h-40 flex-center rounded-circle border border-gray-100 text-main-two-600 text-2xl flex-shrink-0"><i class="ph-fill ph-envelope"></i></span>
                        <a href="mailto:contact@auspicgifts.com" class="text-md text-gray-900 hover-text-main-600">contact@auspicgifts.com</a>
                    </div>
                    <div class="flex-align gap-16 mb-0">
                        <span class="w-40 h-40 flex-center rounded-circle border border-gray-100 text-main-two-600 text-2xl flex-shrink-0"><i class="ph-fill ph-map-pin"></i></span>
                        <span class="text-md text-gray-900 ">{% trans "17/1034, Emarald Mall 2nd Floor, Mavoor Road, Kozhikode (Calicut), India 673004, India - 673637" %}
                        </span>
                    </div>
                </div>
                <div class="mt-24 flex-align flex-wrap gap-16">
                    <a href="#" class="bg-neutral-600 hover-bg-main-600 rounded-8 p-10 px-16 flex-between flex-wrap gap-8 flex-grow-1">
                        <span class="text-white fw-medium">{% trans "Get Support On Call" %}</span>
                        <span class="w-36 h-36 bg-main-600 rounded-8 flex-center text-xl text-white"><i class="ph ph-headset"></i></span>
                    </a>
                    <a href="#" class="bg-neutral-600 hover-bg-main-600 rounded-8 p-10 px-16 flex-between flex-wrap gap-8 flex-grow-1">
                        <span class="text-white fw-medium">{% trans "Get Direction" %}</span>
                        <span class="w-36 h-36 bg-main-600 rounded-8 flex-center text-xl text-white"><i class="ph ph-map-pin"></i></span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ============================ Contact Section End ================================== -->
</div>

{% endblock content %}

{% block js %}
<script>
    /**
    * Robust skeleton hide:
    * - removes page-level skeleton ("skeletonLoaderContact")
    * - also attempts to remove a global skeleton with id "skeletonLoader" if present (safe fallback)
    * - fades out then removes the node to avoid leftover overlays
    */
    function hideSkeletons() {
        ['skeletonLoaderContact', 'skeletonLoader'].forEach(id => {
            const el = document.getElementById(id);
            if (!el) return;
            el.classList.add('hidden');
            el.style.opacity = '0';
            // remove after transition
            setTimeout(() => {
                if (el && el.parentNode) el.parentNode.removeChild(el);
            }, 350);
        });

        // show main content
        const main = document.getElementById('contactPageMain') || document.getElementById('mainContent');
        if (main) {
            main.style.opacity = '1';
        }
    }

    // Prefer to wait for window.load (images/fonts) — but tolerate fast pages
    if (document.readyState === 'complete') {
        // already loaded
        setTimeout(hideSkeletons, 50);
    } else {
        window.addEventListener('load', () => setTimeout(hideSkeletons, 50), { once: true });
    }

    // Fallback: if something goes wrong, hide after 4s to avoid permanent overlay
    setTimeout(hideSkeletons, 4000);
</script>

{% include 'web/includes/form-ajax.html' %}
{% endblock %}